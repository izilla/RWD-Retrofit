/*
 * RWD Retrofit v1.6
 * Allows an existing "desktop site" to co-exist with a "responsive site", while also able to serve the desktop site to a different breakpoint on "mobile" - useful for serving the desktop site to tablets, for example
 *
 * Returns an object containing the desktop (rwdRetrofit.desktop) and optional mobile (rwdRetrofit.mobile) media queries as strings for responding to media queries with JS; for example, by using enquire.js (http://wickynilliams.github.com/enquire.js)
 *
 * Copyright (c) 2012 Izilla Partners Pty Ltd
 *
 * http://www.izilla.com.au
 *
 * Licensed under the MIT license
 */
;var rwdRetrofit=(function(){if(!document.querySelector||!document.getElementsByClassName||typeof(document.documentElement.clientWidth)=="undefined"){return}var k=document.querySelector('meta[name="viewport"]'),s=document.getElementsByClassName("rwdretrofit-desktop"),b=document.getElementsByClassName("rwdretrofit-mobile");if(!k||s.length===0||b.length===0){return}var g="ontouchstart" in window||"onmsgesturechange" in window,n="content",f="media",e=k&&k.getAttribute(n),h="width=980",a=250,c="onorientationchange" in window,m=c?"orientationchange":"resize",q=s[0].getAttribute(f),u=b[0].getAttribute(f),l=s[0].getAttribute("data-breakpoint-width"),r,o=s[0].getAttribute("data-viewport-width"),d=s[0].getAttribute("data-debug"),t={};if(g||d==="true"){if(l){r=l}else{r=q.replace(/.*?min-width:\s?(\d*).*/g,"$1")}if(o&&parseInt(o)>=parseInt(r)){h=h.replace(/\d+/,o)}else{if(r>980){h=h.replace(/\d+/,r)}}}else{r=q.replace(/.*?min-width:\s?(\d*).*/g,"$1")}q=q.replace(/(min-width:\s?)\d*/g,"$1"+r);u=u.replace(/(max-width:\s?)\d*/g,"$1"+(r-1));t.desktop=q,t.mobile=u;if(g){for(var p=0;p<s.length;p++){s[p].setAttribute(f,q)}for(var p=0;p<b.length;p++){b[p].setAttribute(f,u)}function j(){k.setAttribute(n,e);window.setTimeout(function(){if(document.documentElement.clientWidth>=r){k.setAttribute(n,h)}},a)}j();window.addEventListener(m,j,false)}return t})();